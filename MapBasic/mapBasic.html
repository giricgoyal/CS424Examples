<!DOCTYPE HTML>

<!-- ######################################################
	Author : Giric Goyal 

	Illustration of:
		- plotting on maps
		- How to include js files in html and other js files

###########################################################-->
<html>
	<head>
		<style>
			body {
				margin: 0px;
				padding: 0px;
				}
		</style>
	</head>
	<body>
		<div id = "container"></div>

		<!-- use script tags to include js files in your html -->
		<script src = "kinetic.js"></script>
		<script src = "util.js"></script>
		 
		<!-- javascript for all creating everything -->  
		<script>

			// create a text to show the name of the cities
			var text = new Kinetic.Text({
					x: 10,
					y: 10,
					fontFamily: 'Calibri',
					fontSize: 18,
					text: '',
					fill: 'black'
				});

			// create a Stage using Kinetic.Stage
			var stage = new Kinetic.Stage({
				container: 'container',
				width: 1920,
				height: 1080
				});

			// create a Layer using Kinetic.Layer
			var layer = new Kinetic.Layer();
			
			// an image object for the map image.
			var imageObj = new Image();

			// this method is called when the page loads.
			imageObj.onload = function() {

				// create Image using Kinetic.Image method.
				var world = new Kinetic.Image({
					x: 20,
					y: 5,
					// assign the image object to 'image' attribute
					image: imageObj,
					width: 634,
					height: 477
					});
					
				// Call the latlon2D method that converts lat lon to 2D coordinates
				// Method defined in Util object in util.js
				Util.latLon2D(0);

				// create circles using Kinetic.Circle method.
				var dot = new Kinetic.Circle({
					// x,y coordinates from Util object in util.js
					x: Util.posx,
					y: Util.posy,
					radius: 4,
					fill: 'red',
					stroke: 'black',
					strokeWidth: 1
					});
				

				Util.latLon2D(1);
				var dot1 = new Kinetic.Circle({
					x: Util.posx,
					y: Util.posy,
					radius: 4,
					fill: 'blue',
					stroke: 'black',
					strokeWidth: 1
					});
				
				Util.latLon2D(2);
				var dot2 = new Kinetic.Circle({
					x: Util.posx,
					y: Util.posy,
					radius: 4,
					fill: 'black',
					stroke: 'black',
					strokeWidth: 1
					});
					
				Util.latLon2D(3);
				var dot3 = new Kinetic.Circle({
					x: Util.posx,
					y: Util.posy,
					radius: 4,
					fill: 'yellow',
					stroke: 'black',
					strokeWidth: 1
					});
				
				Util.latLon2D(4);
				var dot4 = new Kinetic.Circle({
					x: Util.posx,
					y: Util.posy,
					radius: 4,
					fill: 'green',
					stroke: 'black',
					strokeWidth: 1
					});

				
				// add circles/dots, map to the layer	
				layer.add(dot);
				layer.add(dot1);
				layer.add(dot2);
				layer.add(dot3);
				layer.add(dot4);
				layer.add(world);
				layer.add(text);

				// add layer to the stage.
				stage.add(layer);

				// move the shapes (circles) on the top of the map.
				dot.moveToTop();
				dot1.moveToTop();
				dot2.moveToTop();
				dot3.moveToTop();
				dot4.moveToTop();
				text.moveToTop();

				// draw all the circles.
				layer.draw();
				};

			// give the image file to the object
			imageObj.src = 'world.png';

		</script>
	</body>
</html>